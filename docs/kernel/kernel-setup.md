# Настройка

В данной главе подробно рассказано о настройке ядра из исходного кода.

## Подготовка

Подготовьте пакет к компиляции выполнив следующую команду:

```bash
make mrproper
```

Выполнение этой команды гарантирует, что дерево исходных кодов ядра абсолютно чистое.
Разработчики ядра рекомендуют, чтобы эта команда выполнялась перед каждым процессом
компиляции. 

!> Обратите внимание что после распаковки пакета с исходным кодом не следует
полагаться на его "чистоту".

## Инструменты настройки параметров ядра

Конфигурация  ядра хранится в файле ``.config``. Именно этот файл следует отредактировать, указав необходимые опции, в соответствии с вашим оборудованием и предпочтениями. 

Для наглядности и облегчения вопсприятия, настройку ядра можно произвести при помощий утилит предоставляющих графический или псевдографический интерфейс:

- `make xconfig` – при использовании графической среды KDE
- `make gconfig` – при использовании графической среды GNOME
- `make menuconfig` – псевдографический режиме
- `make config` –  вариант настройки, выводящий запросы на задание значений каждого параметра ядра. (Не позволяет изменить уже заданные параметры)

Практически все варианты (за исключением последнего) позволяют получать краткую справку по каждому параметру, производить поиск нужного параметра (или раздела), добавлять в конфигурацию дополнительные компоненты, драйверы, а также показывают, каким образом конкретный компонент может быть сконфигурирован — как компонент, встроенный в ядро или как загружаемый модуль, а также поддерживает ли он вообще вариант компиляции в качестве загружаемого модуля.

## Создание конфигурации

Хорошей отправной точкой для настройки ядра, может стать запуск команды ``make defconfig``.

Выполните команду:

```bash
make defconfig
```
Будет создана базовая конфигурация с настройками по умолчанию, с учётом архитектуры машины. Параметры берутся из архитектурно-зависимых ``defconfig`` файлов. 

</script>
